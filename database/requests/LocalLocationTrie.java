package com.foltran.mermaid.database.requests;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class LocalLocationTrie {


    static class TrieNode {
        Map<Character, TrieNode> children = new HashMap<>();
        boolean isEndOfWord = false;
    }

    TrieNode root;
    String[] allLocations = new String[]{
            "midland city, alabama", "fultondale, alabama", "hueytown, alabama", "red bay, alabama", "mooresville, alabama", "chelsea, alabama", "libertyville, alabama", "florala, alabama", "abbeville, alabama", "sanford, alabama", "birmingham, alabama", "maplesville, alabama", "myrtlewood, alabama", "union grove, alabama", "eva, alabama", "winfield, alabama", "andalusia, alabama", "bridgeport, alabama", "bay minette, alabama", "lake view, alabama", "vina, alabama", "jasper, alabama", "elberta, alabama", "webb, alabama", "cordova, alabama", "pollard, alabama", "springville, alabama", "toxey, alabama", "roanoke, alabama", "paint rock, alabama", "locust fork, alabama", "carbon hill, alabama", "georgiana, alabama", "ohatchee, alabama", "highland lake, alabama", "gulf shores, alabama", "athens, alabama", "sylvania, alabama", "clio, alabama", "newton, alabama", "piedmont, alabama", "harpersville, alabama", "daleville, alabama", "silverhill, alabama", "dora, alabama", "gordon, alabama", "homer, alaska", "quinhagak, alaska", "fairbanks, alaska", "delta junction, alaska", "chefornak, alaska", "kodiak, alaska", "marshall, alaska", "seward, alaska", "kaktovik, alaska", "utqia\u0121vik, alaska", "ouzinkie, alaska", "anchorage, alaska", "nikolai, alaska", "anderson, alaska", "stebbins, alaska", "juneau, alaska", "adak, alaska", "apache junction, arizona", "tombstone, arizona", "chandler, arizona", "globe, arizona", "queen creek, arizona", "eagar, arizona", "south tucson, arizona", "litchfield park, arizona", "yuma, arizona", "parker, arizona", "birdsong, arkansas", "nimmons, arkansas", "monticello, arkansas", "donaldson, arkansas", "enola, arkansas", "fountain lake, arkansas", "lake city, arkansas", "rosston, arkansas", "higden, arkansas", "egypt, arkansas", "berryville, arkansas", "almyra, arkansas", "mulberry, arkansas", "sedgwick, arkansas", "hot springs, arkansas", "little rock, arkansas", "swifton, arkansas", "pangburn, arkansas", "sheridan, arkansas", "keiser, arkansas", "caddo valley, arkansas", "smackover, arkansas", "humphrey, arkansas", "foreman, arkansas", "jasper, arkansas", "hughes, arkansas", "heber springs, arkansas", "vilonia, arkansas", "eudora, arkansas", "sparkman, arkansas", "moorefield, arkansas", "perla, arkansas", "searcy, arkansas", "fisher, arkansas", "western grove, arkansas", "dierks, arkansas", "mountain home, arkansas", "west point, arkansas", "magness, arkansas", "green forest, arkansas", "brinkley, arkansas", "houston, arkansas", "black springs, arkansas", "tull, arkansas", "arkansas city, arkansas", "danville, arkansas", "guion, arkansas", "oak grove heights, arkansas", "gillett, arkansas", "ola, arkansas", "pacific grove, california", "fresno, california", "thousand oaks, california", "pasadena, california", "firebaugh, california", "san francisco, california", "loma linda, california", "portola valley, california", "san diego, california", "twentynine palms, california", "yucca valley, california", "moorpark, california", "corcoran, california", "beaumont, california", "seal beach, california", "west sacramento, california", "los angeles, california", "salinas, california", "hawthorne, california", "grand terrace, california", "biggs, california", "soledad, california", "san gabriel, california", "chico, california", "martinez, california", "east palo alto, california", "larkspur, california", "buena park, california", "campbell, california", "windsor, california", "san mateo, california", "oakley, california", "needles, california", "adelanto, california", "clovis, california", "stockton, california", "industry, california", "hollister, california", "anderson, california", "visalia, california", "lafayette, california", "riverside, california", "los gatos, california", "desert hot springs, california", "milpitas, california", "placentia, california", "escalon, california", "atherton, california", "kingsburg, california", "santa cruz, california", "culver city, california", "redondo beach, california", "eagle, colorado", "victor, colorado", "hooper, colorado", "deer trail, colorado", "manitou springs, colorado", "stratton, colorado", "san luis, colorado", "aguilar, colorado", "estes park, colorado", "littleton, colorado", "fowler, colorado", "lafayette, colorado", "silver plume, colorado", "peetz, colorado", "craig, colorado", "glendale, colorado", "otis, colorado", "boone, colorado", "burlington, colorado", "fairplay, colorado", "northglenn, colorado", "wheat ridge, colorado", "julesburg, colorado", "avon, colorado", "red cliff, colorado", "denver, colorado", "montezuma, colorado", "grover, colorado", "central city, colorado", "east hampton, connecticut", "cornwall, connecticut", "fairfield, connecticut", "salem, connecticut", "new fairfield, connecticut", "southbury, connecticut", "thompson, connecticut", "lebanon, connecticut", "andover, connecticut", "haddam, connecticut", "plymouth, connecticut", "waterbury, connecticut", "north haven, connecticut", "canaan, connecticut", "middlebury, connecticut", "wilton, connecticut", "bloomfield, connecticut", "leipsic, delaware", "wilmington, delaware", "millsboro, delaware", "newport, delaware", "houston, delaware", "ocean view, delaware", "miami, florida", "orange park, florida", "monticello, florida", "hillcrest heights, florida", "winter garden, florida", "cape canaveral, florida", "tequesta, florida", "palm beach gardens, florida", "lee, florida", "atlantic beach, florida", "hampton, florida", "port st. lucie, florida", "deltona, florida", "niceville, florida", "safety harbor, florida", "gainesville, florida", "fort lauderdale, florida", "west palm beach, florida", "indialantic, florida", "kenneth city, florida", "dania beach, florida", "marineland, florida", "jacksonville, florida", "madison, florida", "plant city, florida", "chipley, florida", "parkland, florida", "oakland, florida", "waldo, florida", "sewall's point, florida", "biscayne park, florida", "springfield, florida", "bay lake, florida", "briny breezes, florida", "lake buena vista, florida", "alachua, florida", "cooper city, florida", "el portal, florida", "lakeland, florida", "stuart, florida", "greensboro, florida", "geneva, georgia", "sandy springs, georgia", "blairsville, georgia", "cairo, georgia", "elberton, georgia", "mcrae, georgia", "rocky ford, georgia", "abbeville, georgia", "sharpsburg, georgia", "bowersville, georgia", "hamilton, georgia", "duluth, georgia", "omega, georgia", "dexter, georgia", "south fulton, georgia", "jonesboro, georgia", "cartersville, georgia", "rayle, georgia", "fort gaines, georgia", "wadley, georgia", "yatesville, georgia", "aragon, georgia", "tennille, georgia", "fairmount, georgia", "gray, georgia", "jackson, georgia", "cuthbert, georgia", "meansville, georgia", "lilly, georgia", "riceboro, georgia", "conyers, georgia", "winder, georgia", "allenhurst, georgia", "morrow, georgia", "nunez, georgia", "cochran, georgia", "helena, georgia", "trenton, georgia", "sylvania, georgia", "stonecrest, georgia", "augusta, georgia", "milton, georgia", "broxton, georgia", "lula, georgia", "lakeland, georgia", "homeland, georgia", "pooler, georgia", "newborn, georgia", "pelham, georgia", "union point, georgia", "bartow, georgia", "dasher, georgia", "chester, georgia", "waverly hall, georgia", "waihee-waiehu, hawaii", "haleiwa, hawaii", "honaunau-napoopoo, hawaii", "ainaloa, hawaii", "maunawili, hawaii", "honolulu, hawaii", "naalehu, hawaii", "waiohinu, hawaii", "hickam housing, hawaii", "nanawale estates, hawaii", "olinda, hawaii", "kihei, hawaii", "kalihiwai, hawaii", "wailua homesteads, hawaii", "waianae, hawaii", "ashton, idaho", "kooskia, idaho", "weiser, idaho", "victor, idaho", "lost river, idaho", "sugar city, idaho", "idaho city, idaho", "jerome, idaho", "murtaugh, idaho", "rexburg, idaho", "bonners ferry, idaho", "teton, idaho", "onaway, idaho", "hagerman, idaho", "boise, idaho", "culdesac, idaho", "warm river, idaho", "kendrick, idaho", "paris, idaho", "castleford, idaho", "heyburn, idaho", "ellisville, illinois", "glenview, illinois", "cantrall, illinois", "pecatonica, illinois", "smithton, illinois", "atlanta, illinois", "claremont, illinois", "morrisonville, illinois", "nauvoo, illinois", "oak park, illinois", "griggsville, illinois", "media, illinois", "milledgeville, illinois", "kingston mines, illinois", "south roxana, illinois", "springerton, illinois", "valley city, illinois", "woodlawn, illinois", "farmington, illinois", "martinton, illinois", "swansea, illinois", "geneseo, illinois", "rock falls, illinois", "berwyn, illinois", "marietta, illinois", "tonica, illinois", "warrensburg, illinois", "manchester, illinois", "bull valley, illinois", "lindenhurst, illinois", "shelbyville, illinois", "la moille, illinois", "williamsfield, illinois", "north utica, illinois", "lewistown, illinois", "east brooklyn, illinois", "carpentersville, illinois", "pontoosuc, illinois", "goreville, illinois", "norridge, illinois", "kangley, illinois", "orion, illinois", "eldorado, illinois", "channahon, illinois", "grayslake, illinois", "calumet park, illinois", "bush, illinois", "alhambra, illinois", "hume, illinois", "kempton, illinois", "phillipstown, illinois", "freeport, illinois", "richview, illinois", "loda, illinois", "tilden, illinois", "hinsdale, illinois", "alto pass, illinois", "palmyra, illinois", "hennepin, illinois", "tennessee, illinois", "odin, illinois", "olney, illinois", "newark, illinois", "bannockburn, illinois", "exeter, illinois", "riverside, illinois", "antioch, illinois", "dixon, illinois", "energy, illinois", "princeville, illinois", "maywood, illinois", "flat rock, illinois", "gillespie, illinois", "joliet, illinois", "round lake park, illinois", "watson, illinois", "troy grove, illinois", "roscoe, illinois", "hoopeston, illinois", "sidell, illinois", "highland, illinois", "scottville, illinois", "rantoul, illinois", "bellwood, illinois", "stewardson, illinois", "cedar point, illinois", "arthur, illinois", "mackinaw, illinois", "harvard, illinois", "dallas city, illinois", "columbia, illinois", "abingdon, illinois", "hanaford, illinois", "plainville, illinois", "streamwood, illinois", "mulberry grove, illinois", "wenonah, illinois", "bourbonnais, illinois", "brimfield, illinois", "louisville, illinois", "vernon hills, illinois", "country club hills, illinois", "beecher city, illinois", "east st. louis, illinois", "leaf river, illinois", "deerfield, illinois", "forreston, illinois", "mount erie, illinois", "browns, illinois", "yates city, illinois", "volo, illinois", "saunemin, illinois", "du bois, illinois", "park forest, illinois", "ivesdale, illinois", "inverness, illinois", "coalton, illinois", "lake forest, illinois", "metcalf, illinois", "davis junction, illinois", "st. libory, illinois", "sailor springs, illinois", "winnebago, illinois", "moline, illinois", "new burnside, illinois", "batchtown, illinois", "chicago, illinois", "western springs, illinois", "bloomington, illinois", "creve coeur, illinois", "aurora, indiana", "bluffton, indiana", "dunkirk, indiana", "indianapolis, indiana", "new castle, indiana", "muncie, indiana", "columbus, indiana", "auburn, indiana", "huntingburg, indiana", "alexandria, indiana", "marion, indiana", "tell city, indiana", "plano, iowa", "wadena, iowa", "ackley, iowa", "de soto, iowa", "keota, iowa", "dike, iowa", "marquette, iowa", "lincoln, iowa", "onslow, iowa", "salix, iowa", "fort dodge, iowa", "irwin, iowa", "worthington, iowa", "cambridge, iowa", "madrid, iowa", "hartford, iowa", "logan, iowa", "union, iowa", "nemaha, iowa", "rodman, iowa", "new sharon, iowa", "maurice, iowa", "shambaugh, iowa", "holy cross, iowa", "clermont, iowa", "goodell, iowa", "mount ayr, iowa", "sloan, iowa", "alton, iowa", "bassett, iowa", "belle plaine, iowa", "sherrill, iowa", "coppock, iowa", "albion, iowa", "eldora, iowa", "avoca, iowa", "galt, iowa", "grinnell, iowa", "lu verne, iowa", "montour, iowa", "buffalo, iowa", "lakeside, iowa", "ellsworth, iowa", "granger, iowa", "aplington, iowa", "mediapolis, iowa", "deloit, iowa", "windsor heights, iowa", "miles, iowa", "otho, iowa", "birmingham, iowa", "hampton, iowa", "oakville, iowa", "crawfordsville, iowa", "spring hill, iowa", "charles city, iowa", "toledo, iowa", "riverdale, iowa", "renwick, iowa", "asbury, iowa", "thayer, iowa", "fayette, iowa", "laurel, iowa", "rudd, iowa", "west des moines, iowa", "college springs, iowa", "kalona, iowa", "leighton, iowa", "protivin, iowa", "rathbun, iowa", "sutherland, iowa", "what cheer, iowa", "pella, iowa", "breda, iowa", "exira, iowa", "van meter, iowa", "castalia, iowa", "st. paul, iowa", "manning, iowa", "north english, iowa", "cylinder, iowa", "palmer, iowa", "dubuque, iowa", "knierim, iowa", "hazleton, iowa", "clare, iowa", "popejoy, iowa", "huxley, iowa", "eagle grove, iowa", "gibson, iowa", "storm lake, iowa", "bonaparte, iowa", "missouri valley, iowa", "webster city, iowa", "washta, iowa", "abilene, kansas", "wichita, kansas", "lansing, kansas", "hutchinson, kansas", "independence, kansas", "concordia, kansas", "hays, kansas", "germantown, kentucky", "clay, kentucky", "hardinsburg, kentucky", "blandville, kentucky", "sharpsburg, kentucky", "horse cave, kentucky", "langdon place, kentucky", "dover, kentucky", "lynnview, kentucky", "russell, kentucky", "woodlawn park, kentucky", "gratz, kentucky", "bancroft, kentucky", "crittenden, kentucky", "livermore, kentucky", "bellefonte, kentucky", "thornhill, kentucky", "elkhorn city, kentucky", "somerset, kentucky", "brodhead, kentucky", "hickman, kentucky", "irvine, kentucky", "millersburg, kentucky", "plum springs, kentucky", "salem, kentucky", "mchenry, kentucky", "mount olivet, kentucky", "vine grove, kentucky", "fort wright, kentucky", "williamstown, kentucky", "parkway village, kentucky", "ferguson, kentucky", "burnside, kentucky", "new haven, kentucky", "stamping ground, kentucky", "corbin, kentucky", "campton, kentucky", "west point, kentucky", "adairville, kentucky", "kenton vale, kentucky", "olive hill, kentucky", "raywick, kentucky", "harrisonburg, louisiana", "new orleans, louisiana", "kinder, louisiana", "woodworth, louisiana", "florien, louisiana", "ashland, louisiana", "colfax, louisiana", "gilbert, louisiana", "ringgold, louisiana", "downsville, louisiana", "waterproof, louisiana", "sterlington, louisiana", "mooringsport, louisiana", "abbeville, louisiana", "port vincent, louisiana", "martin, louisiana", "breaux bridge, louisiana", "grand isle, louisiana", "madisonville, louisiana", "jennings, louisiana", "oak ridge, louisiana", "belcher, louisiana", "newellton, louisiana", "pineville, louisiana", "lisbon, louisiana", "central, louisiana", "houma, louisiana", "st. martinville, louisiana", "turkey creek, louisiana", "simpson, louisiana", "cullen, louisiana", "epps, louisiana", "portland, maine", "waterville, maine", "calais, maine", "chevy chase section three, maryland", "lonaconing, maryland", "sykesville, maryland", "aberdeen, maryland", "walkersville, maryland", "elkton, maryland", "betterton, maryland", "capitol heights, maryland", "mountain lake park, maryland", "gaithersburg, maryland", "north east, maryland", "st. michaels, maryland", "preston, maryland", "indian head, maryland", "cumberland, maryland", "hagerstown, maryland", "rockland, massachusetts", "north attleborough, massachusetts", "tyngsborough, massachusetts", "canton, massachusetts", "west boylston, massachusetts", "beverly, massachusetts", "hudson, massachusetts", "monson, massachusetts", "ludlow, massachusetts", "oak bluffs, massachusetts", "pembroke, massachusetts", "leicester, massachusetts", "westhampton, massachusetts", "abington, massachusetts", "princeton, massachusetts", "sandwich, massachusetts", "williamstown, massachusetts", "braintree, massachusetts", "egremont, massachusetts", "chesterfield, massachusetts", "dudley, massachusetts", "hancock, massachusetts", "barnstable, massachusetts", "springfield, massachusetts", "shrewsbury, massachusetts", "swampscott, massachusetts", "framingham, massachusetts", "dalton, massachusetts", "warren, massachusetts", "granby, massachusetts", "methuen, massachusetts", "yarmouth, massachusetts", "hingham, massachusetts", "marshfield, massachusetts", "boston, massachusetts", "arlington, massachusetts", "new bedford, massachusetts", "allen township, michigan", "rockland, michigan", "slagle township, michigan", "eagle, michigan", "south arm township, michigan", "olivet, michigan", "fenwick, michigan", "acme, michigan", "millbrook township, michigan", "prairieville township, michigan", "superior charter township, michigan", "hillman township, michigan", "champion, michigan", "grass lake, michigan", "carson city, michigan", "keeler township, michigan", "cheshire township, michigan", "reeder township, michigan", "bois blanc township, michigan", "farmington, michigan", "white pine, michigan", "lawrence, michigan", "eau claire, michigan", "linden, michigan", "norman township, michigan", "levering, michigan", "mount haley township, michigan", "haring, michigan", "fillmore township, michigan", "university center, michigan", "bay city, michigan", "kinde, michigan", "bearinger township, michigan", "ellis township, michigan", "brampton township, michigan", "deckerville, michigan", "spurr township, michigan", "mears, michigan", "goodland township, michigan", "garden city, michigan", "southfield, michigan", "sand lake, michigan", "richland, michigan", "winfield township, michigan", "portage charter township, michigan", "hastings, michigan", "lake angelus, michigan", "north street, michigan", "leland township, michigan", "shelby township, michigan", "jerome township, michigan", "cottrellville township, michigan", "brethren, michigan", "fremont, michigan", "stephenson, michigan", "edwards township, michigan", "harsens island, michigan", "walker, michigan", "pinora township, michigan", "forest hills, michigan", "benona township, michigan", "volinia township, michigan", "glen arbor, michigan", "munger, michigan", "woodbridge township, michigan", "watervliet township, michigan", "saint charles, michigan", "calvin township, michigan", "claybanks township, michigan", "dollar bay, michigan", "hersey township, michigan", "cedarville, michigan", "gwinn, michigan", "lovells township, michigan", "weare township, michigan", "horton township, michigan", "zilwaukee township, michigan", "hubbell, michigan", "koehler township, michigan", "mass city, michigan", "fostoria, michigan", "buckley, michigan", "norwood township, michigan", "akron township, michigan", "marcellus township, michigan", "broomfield township, michigan", "clinton charter township, michigan", "trowbridge park, michigan", "eureka township, michigan", "beulah, michigan", "fulton township, michigan", "bagley township, michigan", "fabius township, michigan", "middletown, michigan", "elwell, michigan", "wetmore, michigan", "vergennes township, michigan", "paradise township, michigan", "custer, michigan", "grand haven, michigan", "clam union township, michigan", "lamotte township, michigan", "orleans township, michigan", "paw paw township, michigan", "tobacco township, michigan", "whittemore, michigan", "davisburg, michigan", "enterprise township, michigan", "brighton township, michigan", "ross township, michigan", "atlas, michigan", "nahma, michigan", "owendale, michigan", "shoreham, michigan", "manitou beach-devils lake, michigan", "belknap township, michigan", "madison charter township, michigan", "arthur township, michigan", "ira township, michigan", "lake odessa, michigan", "oakland charter township, michigan", "strongs, michigan", "thomas township, michigan", "romeo, michigan", "canton charter township, michigan", "arcadia, michigan", "pickford township, michigan", "birch run township, michigan", "helena township, michigan", "berkley, michigan", "sebewaing township, michigan", "fraser township, michigan", "sault ste. marie, michigan", "alcona township, michigan", "metamora township, michigan", "barton city, michigan", "tawas township, michigan", "denton township, michigan", "ida, michigan", "mohawk, michigan", "ponshewaing, michigan", "riverside township, michigan", "coloma charter township, michigan", "otisco township, michigan", "almont, michigan", "pleasant ridge, michigan", "bliss township, michigan", "monterey township, michigan", "rumely, michigan", "croton township, michigan", "mendon township, michigan", "auburn, michigan", "marne, michigan", "quinnesec, michigan", "butterfield township, michigan", "newark township, michigan", "ravenna, michigan", "comstock northwest, michigan", "morenci, michigan", "hampton charter township, michigan", "twin lake, michigan", "kalamazoo charter township, michigan", "gerrish township, michigan", "onsted, michigan", "saint joseph, michigan", "ishpeming, michigan", "ingham township, michigan", "greenbush, michigan", "grosse pointe, michigan", "conway township, michigan", "lockport township, michigan", "cass city, michigan", "lyon charter township, michigan", "spring arbor township, michigan", "west bloomfield charter township, michigan", "baraga, michigan", "nester township, michigan", "chase township, michigan", "burnside township, michigan", "yale, michigan", "pentwater, michigan", "warren, michigan", "drummond township, michigan", "east lansing, michigan", "holton, michigan", "amboy township, michigan", "wrenshall, minnesota", "cook, minnesota", "st. peter, minnesota", "waite park, minnesota", "clearbrook, minnesota", "mountain lake, minnesota", "virginia, minnesota", "milaca, minnesota", "wykoff, minnesota", "strandquist, minnesota", "mabel, minnesota", "pine springs, minnesota", "bemidji, minnesota", "chanhassen, minnesota", "cologne, minnesota", "granada, minnesota", "bethel, minnesota", "hayward, minnesota", "greenwald, minnesota", "st. leo, minnesota", "hopkins, minnesota", "center city, minnesota", "red lake falls, minnesota", "minneapolis, minnesota", "vadnais heights, minnesota", "cleveland, minnesota", "wilmont, minnesota", "cuyuna, minnesota", "cottonwood, minnesota", "victoria, minnesota", "woodland, minnesota", "dilworth, minnesota", "palisade, minnesota", "zumbrota, minnesota", "florence, minnesota", "turtle river, minnesota", "grasston, minnesota", "hatfield, minnesota", "minnesota city, minnesota", "vesta, minnesota", "ogema, minnesota", "lengby, minnesota", "gilbert, minnesota", "morris, minnesota", "tyler, minnesota", "east gull lake, minnesota", "racine, minnesota", "hills, minnesota", "golden valley, minnesota", "delano, minnesota", "moorhead, minnesota", "climax, minnesota", "carver, minnesota", "sargeant, minnesota", "deer creek, minnesota", "grand meadow, minnesota", "stacy, minnesota", "lynd, minnesota", "taunton, minnesota", "darfur, minnesota", "elmdale, minnesota", "ottertail, minnesota", "rush city, minnesota", "dennison, minnesota", "pease, minnesota", "bayport, minnesota", "appleton, minnesota", "winsted, minnesota", "newfolden, minnesota", "columbus, minnesota", "lamberton, minnesota", "eagan, minnesota", "bingham lake, minnesota", "kettle river, minnesota", "brooklyn center, minnesota", "clements, minnesota", "wabasha, minnesota", "houston, minnesota", "hoyt lakes, minnesota", "walnut grove, minnesota", "albany, minnesota", "birchwood village, minnesota", "buffalo lake, minnesota", "sedan, minnesota", "lake henry, minnesota", "ellisville, mississippi", "hazlehurst, mississippi", "forest, mississippi", "sardis, mississippi", "canton, mississippi", "lake, mississippi", "baldwyn, mississippi", "mclain, mississippi", "walls, mississippi", "abbeville, mississippi", "sherman, mississippi", "west, mississippi", "sylvarena, mississippi", "ridgeland, mississippi", "potts camp, mississippi", "crenshaw, mississippi", "coahoma, mississippi", "moorhead, mississippi", "diamondhead, mississippi", "bentonia, mississippi", "soso, mississippi", "mathiston, mississippi", "philadelphia, mississippi", "louin, mississippi", "braxton, mississippi", "osyka, mississippi", "tunica, mississippi", "inverness, mississippi", "new augusta, mississippi", "golden, mississippi", "neosho, missouri", "aurora, missouri", "hannibal, missouri", "kansas city, missouri", "arnold, missouri", "webb city, missouri", "lebanon, missouri", "liberty, missouri", "blue springs, missouri", "smithville, missouri", "perryville, missouri", "plains, montana", "alberton, montana", "ryegate, montana", "superior, montana", "eureka, montana", "chinook, montana", "melstone, montana", "west yellowstone, montana", "darby, montana", "laurel, montana", "glasgow, montana", "hingham, montana", "boulder, montana", "papillion, nebraska", "wayne, nebraska", "omaha, nebraska", "madison, nebraska", "mccook, nebraska", "gothenburg, nebraska", "boulder city, nevada", "lovelock, nevada", "danbury, new hampshire", "lempster, new hampshire", "hill, new hampshire", "exeter, new hampshire", "acworth, new hampshire", "atkinson, new hampshire", "piermont, new hampshire", "milford, new hampshire", "rindge, new hampshire", "berlin, new hampshire", "northfield, new hampshire", "gilsum, new hampshire", "durham, new hampshire", "campton, new hampshire", "windham, new hampshire", "strafford, new hampshire", "jefferson, new hampshire", "new hampton, new hampshire", "chichester, new hampshire", "washington, new hampshire", "madbury, new hampshire", "temple, new hampshire", "hampstead, new hampshire", "sandwich, new hampshire", "woodland park, new jersey", "roseland, new jersey", "pine beach, new jersey", "stillwater township, new jersey", "fanwood, new jersey", "hoboken, new jersey", "plainsboro, new jersey", "leonia, new jersey", "montville, new jersey", "north bergen, new jersey", "harrison township, new jersey", "atlantic city, new jersey", "hardyston township, new jersey", "folsom, new jersey", "spring lake heights, new jersey", "north arlington, new jersey", "walpack township, new jersey", "rockleigh, new jersey", "allamuchy, new jersey", "cape may, new jersey", "hackettstown, new jersey", "branchville, new jersey", "princeton, new jersey", "newark, new jersey", "bloomingdale, new jersey", "lake como, new jersey", "point pleasant, new jersey", "clinton township, new jersey", "manchester, new jersey", "oradell, new jersey", "national park, new jersey", "somers point, new jersey", "denville, new jersey", "lebanon, new jersey", "cresskill, new jersey", "eastampton, new jersey", "montague township, new jersey", "hightstown, new jersey", "englewood, new jersey", "river edge, new jersey", "millburn, new jersey", "mount arlington, new jersey", "belvidere, new jersey", "newfield, new jersey", "elsinboro township, new jersey", "ridgewood, new jersey", "branchburg, new jersey", "fort lee, new jersey", "upper freehold, new jersey", "camden, new jersey", "woodbine, new jersey", "bound brook, new jersey", "monmouth beach, new jersey", "rockaway, new jersey", "springer, new mexico", "alamogordo, new mexico", "vaughn, new mexico", "jal, new mexico", "loving, new mexico", "columbus, new mexico", "gallup, new mexico", "pecos, new mexico", "roy, new mexico", "elephant butte, new mexico", "bosque farms, new mexico", "cortland, new york", "albany, new york", "peekskill, new york", "jamestown, new york", "buffalo, new york", "new york city, new york", "schenectady, new york", "charlotte, north carolina", "concord, north carolina", "new bern, north carolina", "kernersville, north carolina", "kannapolis, north carolina", "ellendale, north dakota", "makoti, north dakota", "streeter, north dakota", "lehr, north dakota", "hansboro, north dakota", "grenora, north dakota", "st. thomas, north dakota", "petersburg, north dakota", "hazelton, north dakota", "mapleton, north dakota", "fargo, north dakota", "towner, north dakota", "deering, north dakota", "overly, north dakota", "lakota, north dakota", "emerado, north dakota", "arthur, north dakota", "granville, north dakota", "dickey, north dakota", "tioga, north dakota", "hatton, north dakota", "new town, north dakota", "devils lake, north dakota", "coleharbor, north dakota", "benedict, north dakota", "sharon, north dakota", "donnybrook, north dakota", "bisbee, north dakota", "tolley, north dakota", "wolford, north dakota", "sheyenne, north dakota", "douglas, north dakota", "belfield, north dakota", "dazey, north dakota", "ambrose, north dakota", "conway, north dakota", "north canton, ohio", "indian hill, ohio", "harrison, ohio", "fairfield, ohio", "olmsted falls, ohio", "rittman, ohio", "perrysburg, ohio", "columbus, ohio", "van wert, ohio", "chardon, ohio", "garfield heights, ohio", "bucyrus, ohio", "dover, ohio", "trenton, ohio", "bay village, ohio", "mentor, ohio", "bexley, ohio", "wellston, ohio", "wilmington, ohio", "lima, ohio", "stow, ohio", "shelby, ohio", "akron, ohio", "mount vernon, ohio", "maple heights, ohio", "oklahoma city, oklahoma", "muskogee, oklahoma", "guymon, oklahoma", "jenks, oklahoma", "ada, oklahoma", "long creek, oregon", "aurora, oregon", "greenhorn, oregon", "portland, oregon", "burns, oregon", "central point, oregon", "north bend, oregon", "stayton, oregon", "eugene, oregon", "wood village, oregon", "fossil, oregon", "la grande, oregon", "drain, oregon", "woodburn, oregon", "wallowa, oregon", "idanha, oregon", "sheridan, oregon", "powers, oregon", "albany, oregon", "hubbard, oregon", "elgin, oregon", "rockaway beach, oregon", "rainier, oregon", "wasco, oregon", "union, oregon", "westfir, oregon", "coatesville, pennsylvania", "wilson borough, pennsylvania", "california, pennsylvania", "waynesburg, pennsylvania", "laporte, pennsylvania", "swoyersville borough, pennsylvania", "towanda, pennsylvania", "east brady, pennsylvania", "bradford woods, pennsylvania", "oswayo, pennsylvania", "conway, pennsylvania", "chester hill, pennsylvania", "york, pennsylvania", "catasauqua, pennsylvania", "hazleton, pennsylvania", "clearfield, pennsylvania", "lock haven, pennsylvania", "bethany, pennsylvania", "duquesne, pennsylvania", "millville, pennsylvania", "callimont, pennsylvania", "hanover, pennsylvania", "philadelphia, pennsylvania", "tunkhannock, pennsylvania", "elizabethville, pennsylvania", "beech creek borough, pennsylvania", "long branch, pennsylvania", "barrington, rhode island", "exeter, rhode island", "newport, rhode island", "smithfield, rhode island", "nichols, south carolina", "summerville, south carolina", "jamestown, south carolina", "quinby, south carolina", "barnwell, south carolina", "lincolnville, south carolina", "williamston, south carolina", "cottageville, south carolina", "lake city, south carolina", "cameron, south carolina", "pelzer, south carolina", "abbeville, south carolina", "ward, south carolina", "trenton, south carolina", "hampton, south carolina", "scotia, south carolina", "bluffton, south carolina", "hodges, south carolina", "easley, south carolina", "gifford, south carolina", "rockville, south carolina", "meggett, south carolina", "florence, south carolina", "lynchburg, south carolina", "orangeburg, south carolina", "smyrna, south carolina", "chester, south carolina", "sioux falls, south dakota", "nisland, south dakota", "langford, south dakota", "egan, south dakota", "white rock, south dakota", "turton, south dakota", "hot springs, south dakota", "albee, south dakota", "wagner, south dakota", "waubay, south dakota", "lennox, south dakota", "vermillion, south dakota", "warner, south dakota", "spencer, south dakota", "oldham, south dakota", "hoven, south dakota", "toronto, south dakota", "davis, south dakota", "mount vernon, south dakota", "canistota, south dakota", "central city, south dakota", "brandt, south dakota", "new witten, south dakota", "highmore, south dakota", "gregory, south dakota", "woonsocket, south dakota", "mound city, south dakota", "mcintosh, south dakota", "ree heights, south dakota", "broadland, south dakota", "clark, south dakota", "arlington, south dakota", "chapel hill, tennessee", "friendship, tennessee", "ashland city, tennessee", "henry, tennessee", "watauga, tennessee", "maryville, tennessee", "ramer, tennessee", "normandy, tennessee", "la vergne, tennessee", "monterey, tennessee", "coalmont, tennessee", "rocky top, tennessee", "spring hill, tennessee", "beersheba springs, tennessee", "kimball, tennessee", "covington, tennessee", "dyer, tennessee", "pikeville, tennessee", "memphis, tennessee", "burns, tennessee", "decatur, tennessee", "murfreesboro, tennessee", "orme, tennessee", "williston, tennessee", "lookout mountain, tennessee", "iron city, tennessee", "adams, tennessee", "thompson's station, tennessee", "tullahoma, tennessee", "savannah, tennessee", "gibson, tennessee", "erwin, tennessee", "bolivar, tennessee", "greenfield, tennessee", "smyrna, tennessee", "longview, texas", "lubbock, texas", "houston, texas", "rosenberg, texas", "keller, texas", "pflugerville, texas", "friendswood, texas", "wichita falls, texas", "frisco, texas", "north richland hills, texas", "hyrum, utah", "moab, utah", "ophir, utah", "alpine, utah", "wales, utah", "scofield, utah", "brigham city, utah", "hinckley, utah", "marysvale, utah", "salt lake city, utah", "elmo, utah", "ballard, utah", "cornish, utah", "perry, utah", "fairview, utah", "west point, utah", "springdale, utah", "redmond, utah", "lindon, utah", "garden city, utah", "rush valley, utah", "harrisville, utah", "toquerville, utah", "central valley, utah", "kingston, utah", "logan, utah", "nephi, utah", "burlington, vermont", "roanoke, virginia", "manassas park, virginia", "falls church, virginia", "alexandria, virginia", "tukwila, washington", "granger, washington", "snoqualmie, washington", "aberdeen, washington", "montesano, washington", "langley, washington", "mattawa, washington", "brier, washington", "yelm, washington", "washougal, washington", "port orchard, washington", "omak, washington", "edmonds, washington", "redmond, washington", "ruston, washington", "bellingham, washington", "ferndale, washington", "kennewick, washington", "sumas, washington", "seattle, washington", "cosmopolis, washington", "chelan, washington", "newport, washington", "williamstown, west virginia", "benwood, west virginia", "south charleston, west virginia", "charleston, west virginia", "hurricane, west virginia", "montgomery, west virginia", "shinnston, west virginia", "weston, west virginia", "clintonville, wisconsin", "princeton, wisconsin", "madison, wisconsin", "wauwatosa, wisconsin", "milwaukee, wisconsin", "verona, wisconsin", "delavan, wisconsin", "boscobel, wisconsin", "markesan, wisconsin", "middleton, wisconsin", "lake geneva, wisconsin", "fennimore, wisconsin", "muskego, wisconsin", "augusta, wisconsin", "green bay, wisconsin", "independence, wisconsin", "oak creek, wisconsin", "stanley, wisconsin", "abbotsford, wisconsin", "schofield, wisconsin", "peshtigo, wisconsin", "evanston, wyoming", "dayton, wyoming", "thermopolis, wyoming", "burlington, wyoming", "guernsey, wyoming", "afton, wyoming", "rolling hills, wyoming", "marbleton, wyoming", "pine bluffs, wyoming", "la grange, wyoming"
    };

    public LocalLocationTrie(){

        root = new TrieNode();
        for (String query : allLocations){
            this.insert(query);
        }
    }

    void insert(String key)
    {
        int level;
        int length = key.length();
        char c;

        TrieNode pCrawl = root;

        for (level = 0; level < length; level++)
        {
            c = key.charAt(level);
            if (pCrawl.children.get(c) == null)
                pCrawl.children.put(c, new TrieNode());

            pCrawl = pCrawl.children.get(c);
        }

        pCrawl.isEndOfWord = true;
    }

    public boolean search(String key) {
        int level;
        int length = key.length();
        char c;
        TrieNode pCrawl = root;

        for (level = 0; level < length; level++) {
            c = key.charAt(level);

            if (pCrawl.children.get(c) == null)
                return false;

            pCrawl = pCrawl.children.get(c);
        }

        return (pCrawl != null && pCrawl.isEndOfWord);
    }

    public boolean hasPrefix(String key){

        TrieNode temp = root;
        for (int i = 0; i < key.length(); i++){

            TrieNode next = temp.children.get(key.charAt(i));
            if (next == null) {
                return false;
            }
            temp = next;
        }
        return temp.children != null || temp.isEndOfWord;
    }

    public String searchPrefixMatch(String key){

        TrieNode temp = root;
        for (int i = 0; i < key.length(); i++){

            TrieNode next = temp.children.get(key.charAt(i));
            if (next == null) {
                return "";
            }
            temp = next;
        }

        if (temp.isEndOfWord) return key;

        StringBuilder sb = new StringBuilder(key);
        while(temp != null && !temp.isEndOfWord){

            for (Character charKey : temp.children.keySet()){
                sb.append(charKey);
                temp = temp.children.get(charKey);
                break;
            }
        }
        return sb.toString();
    }

    public List<String> searchPrefixMatches(String key){

        TrieNode temp = root;
        StringBuilder prefix = new StringBuilder();
        for (int i = 0; i < key.length(); i++){

            TrieNode next = temp.children.get(key.charAt(i));
            if (next == null) {
                return null;
            }
            prefix.append(key.charAt(i));
            temp = next;
        }

        //if (temp.isEndOfWord) return new ArrayList<>(Arrays.asList(key));

        List<String> matches = new ArrayList<>();
        searchPrefixMatchesHelper(temp, matches, new StringBuilder(), prefix.toString());

        return matches;
    }

    public void searchPrefixMatchesHelper(TrieNode root, List<String> allMatches, StringBuilder curMatch, String prefix){

        if (root == null || root.isEndOfWord){
            allMatches.add(prefix + curMatch.toString());
            return;
        }

        for (Character charKey : root.children.keySet()){

            curMatch.append(charKey);
            searchPrefixMatchesHelper(root.children.get(charKey), allMatches, curMatch, prefix);
            curMatch.deleteCharAt(curMatch.length() - 1);
        }
    }

    public String getMatch(String key){

        if (this.search(key)) return key;

        return this.searchPrefixMatch(key);
    }

    public List<String> getMatches(String key){

        List<String> out = new ArrayList<>();
        if (this.search(key)){
            out.add(key);
            return out;
        }
        else{
            return searchPrefixMatches(key);
        }
    }

}
